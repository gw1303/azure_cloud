# 네트워크 기본

## 1교시

### 네트워크

> 네트워크 : 정보 교환(소통)을 위해 컴퓨터를 연결하는 것
>



### 네트워크의 이점

1. 하드웨어의 공유 (ex. 프린트 한 대와 여러대의 컴퓨터 연결)
2. 파일의 공유가 가능



### 네트워크 환경

> Peer to Peer 환경
>
> : 컴퓨터들을 동일한 레벨로 연결하는 것 (10인 이하의 기업)



> Client(Request) / Server(Response) 환경
>
> : 서버를 두고 사용자들이 서버에 접속하여 사용하는 것(100인 이상의 기업)



### 네트워크 장비

> 라우터 (Gate Way)
>
> : 외부 네트워크와 통신하기 위한 장치



> 스위치 (브릿지, 허브 역할을 대신함)
>
> : 컴퓨터를 연결하는 장비



### 네트워크 범위

> LAN (Local-area Network)
>
> : 라우터까지의 네트워크 (회사내의 네트워크)



> WAN(Wide-areaNetwork)
>
> : 각 라우터들의 연결 (Public Network or 인터넷망)



### TCP/IP 네트워크 구성

1. IP

2. Subnet Mask : Network ID를 식별

3. G/W : 라우터 IP (일반적으로 첫번째나 마지막 IP)

4. DNS

   

## 2교시

### OSI 7 Layer : 통신을 위한 표준 프로토콜

7. Application : Load balancer(L7)

   : 사용자가 직접 보는 화면

6. Presetation

​		: 데이터 암호화 및 압축

5. Session

   : 데이터를 보내느 곳과 받는 곳의 연결 설정

4. Transport : Load balancer(L4)

   : 데이터를 전송해주는 계층(TCP(신뢰성) / UDP(비신뢰성))

   > 신뢰성 : 데이터를 잘 받았는지 3번 확인함(안정적) 
   >
   > 비신뢰성 : 일방적으로 보냄 (속도가 빠름)

3. Network : 라우터

   : 목적지(IP)를 찾을 때 사용하는 계층

2. Data Link : 스위치

   > MAC : LAN카드 고유번호

1. Physical : 케이블



### Encapsulation / De-Encapsulation

> Encapsulation / De-Encapsulation
>
> : 3번 레이어에서 데이터를 잘게 쪼갠 뒤 4~2 레이어에서 각 패킷에 헤더를 붙인 뒤 다른 네트워크로 보내는/받는 과정



### 각 레이어별 패킷의 이름

​	Transport  - Segments

​	Network    - Packets

​	Data Link   -  Frames



> L4 Switch
>
> : 라우터의 역할까지하는 고급 스위치



> LAN카드
>
> : 디지털신호를 전기신호로 바꿔주는 장치



> IP Address 
>
> : 인터넷 상에서 목적지를 찾는 주소 체계(A~C Class), 32Bit로 구성(약 43억개)
>
> 8.8.8.8		8Bit = 옥텟
>
> v4 (32 bit) 
>
> v6(128bit) = 340언데실리온



## 3교시

### Load Balancer

> Load balancer : 부하분산장치
>
> 1. Azure Load Balancer (Layer 4)
>
>    같은 데이터 센터 내의 100개 정도 vm정도를 처리할 수 있음
>
> 2. Application Gateway (Layer 7)
>
>    다른 데이터 센터의 vm도 부하분산 처리 가능
>
> 3. Traffic Manager (DNS-based)



### IP구성

IP = Network ID          +          Host ID 

​      (우편번호, 회사)            (번지, 각가장치)

​      (ISP 부여)                       (각 회사 네트워크 관리자 부여)



### IP Class

**Class					IP						  DNS**

A Class			N.H.H.H			255.   0.   0.  0

​			  **0**0000000.00000000.00000000.00000000  1.0.0.0

​			  **0**1111111.11111111.11111111.11111111  126.255.255.255

​			  Network 수 : 2 ^ 7 - 2 = 126개(0과 127은 사용 X)

>  		 0   : 네트워크 식별할 때 사용
>
> ​		127 : IPv4의 LoopBack IP(모든 컴퓨터에 셋팅되어 있음) , Localhost
>
> ​				- Test용으로 사용 (ex. Web Server)
>
> ​				- IPv6 LoopBack IP (::1)

​			  Host   수      : 2 ^ 24 - 2 = 16,777,214개

B Class			N.N.H.H			255.255.  0.  0

​			  **10**000000.00000000.00000000.00000000  128.0.0.0

​			  **10**111111.11111111.11111111.11111111  191.255.255.255

​			  Network 수 : 2 ^ 14 = 16,384개

​			  Host   수      : 2 ^ 16 - 2 = 65,534개

C Class			N.N.N.H			255.255.255.0

​			  **110**00000.00000000.00000000.00000000  192.0.0.0

​			  **110**11111.11111111.11111111.11111111  223.255.255.255

​			  Network 수 : 2 ^ 21 = 2 ,097,152개

​			  Host   수      : 2 ^ 8 - 2 = 254개

---

> Host의 모든 값이 0인경우 : Network ID를 식별
>
> Host의 모든 값이 1인경우 : Broadcast IP (Broadcast Data 전송시 사용)



D Class : 멀티 캐스트 데이터 전송시 사용

​																						  224.0.0.0

​																						  239.255.255.255    

E Class : 예약 IP, 군사용



### 데이터 전송 방식 

 - Unicast		1:1 통신                                A, B, C

 - Multicast     1:그룹 통신                          D

   > YOUTUBE, 인터넷방송 등에 이용
   >
   > 데이터를 하나의 세션으로 여러 개로 동시에 뿌림

 - Broadcast   1:모든 통신 (라우터까지)    Broadcast

   > 라우터 안에 있는 모든 장비에 데이터를 뿌림
   >
   > Broadcast Domain : Broadcast가 발생하는 범위



## 4교시

### CIDR(Classless Inter-Domain Routing) 표기법

: class로 IP를 부여핼 줄 경우 IP 낭비가 굉장히 심하다.

  **2진법 중 1 = Network ID 0 = Host ID**

> Class : 10진법으로 표기
>
> CIDR  : 2진법으로 표기 -> IP낭비를 막을 수 있다!
>
> ex.	192.168.10.0 / 24	192.168.10.0 / 25(비트수를 의미)
>
> ​		/26 -> 11111111.11111111.11111111.11000000 = 255.255.255.192
>
> **2 ^ (32-CIDR) - 2 = Host IP의 수**

Q. 2000개의 Host가 필요할 때 알맞은 Subnet Mask를 CIDR 표기법으로 표시하시오.

A. /21 -> 255.255.248.0



ex. 192.168.10.50 / 24

​			Network IP : 192.168.10.0

​			Broadcast IP : 192.168.10.255

​			Host IP 범위 : 192.168.10.1 ~ 192.168.10.254

​			Subnet Mask : 255.255.225.0

ex. 192.168.10.130 / 25

​			Network IP : 192.168.10.128

​			Broadcast IP : 192.168.10.255

​			Host IP 범위 : 192.168.10.129 ~ 192.168.10.254

​			Subnet Mask : 255.255.225.128

​			Host 개수       : 126개

ex. 172.16.20.10 / 17

10101100.00010000.00010100.00001010

11111111.11111111.10000000.0000000

---

**10101100.00010000.0**0000000.00000000

​			Network IP : 172.16.0.0

​			Broadcast IP : 172.16.127.255

​			Host IP 범위 : 172.16.0.1 ~ 172.16.127.254

​			Subnet Mask : 255.255.128.0

​			Host 개수       : 32,766



## 6교시

### Subnetting

>  Subnetting 
>
> : ISP에서 부여 받은 네트워크 ID로 더 작은 Sub Network로 분할하여 사용

Q. ISP에서 **192.168.20.**0 / 24를 부여 받았다. 2개의 Sub Network로 분할하시오.

​                                        0**0000000** / 25  = 192.168.20.0 / 25

​																192.168.20.1 ~ 192.168.20.126

​                                        1**0000000** / 25  = 192.168.20.128 / 25

​																192.168.20.129 ~ 192.168.20.254



Q. ISP에서 **172.16**.0.0 / 16를 부여 받았다. 4개의 Sub Network로 분할하시오.

​                                00**000000.00000000** / 18 = 172.16.0.0

​                                							172.16.0.1 ~ 172.16.63.254

​                                01**000000.00000000** / 18 = 172.16.64.0

​                                							172.16.64.1 ~ 172.16.127.254

​                                10**000000.00000000** / 18 = 172.16.128.0

​                                							172.16.128.1 ~ 172.16.191.254

​                                11**000000.00000000** / 18 = 172.16.192.0

​                                							172.16.192.1 ~ 172.16.255.254

Q. ISP에서 172.16.192.0 / 18를 부여 받았다. 4개의 Sub Network로 분할하시오.

**11111111.11111111.11**000000.00000000

​                                     1100**0000.00000000** / 20 = 172.16.192.0

​                                								172.16.192.1 ~ 172.16.207.254

​                                     1101**0000.00000000** / 20 = 172.16.208.0

​                                								172.16.208.1 ~ 172.16.223.254

​                                     1110**0000.00000000** / 20 = 172.16.224.0

​                                								172.16.224.1 ~ 172.16.239.254

​                                     1111**0000.00000000** / 20 = 172.16.240.0

​                                								172.16.240.1 ~ 172.16.255.254

## 7교시 

### VLSM (Variable - Length Subnet Mask)

> VLSM: Host 수에 따라 Subnetting, Subnet Mask값이 각각 다르게 부여됨
>
> ​	- 반드시 많은 수를 먼저 Subnetting (주의)



192.168.10.0 / 24 (ISP) 아래와 같이 VLSM으로 Subnetting하세요.

(인사부 : 100, 관리부: 60, 영업부 : 10, 제조부 : 30)

1. 인사부 : 192.168.10.0 / 25     = 192.168.10.1     ~192.168.10.126       2^7-2 = 126개 

2. 관리부 : 192.168.10.128 / 26 = 192.168.10.129 ~ 192.168.10.190     2^6-2 = 62개

3. 제조부 : 192.168.10.192 / 27 = 192.168.10.193 ~ 192.168.10.222     2^5-2  = 30개

   ​									**110**00000

4. 영업부 : 192.168.10.224 / 28 = 192.168.10.225 ~ 192.168.10.238      2^4 = 14개

   ​									**1110**0000



## 8교시

### Azure Virtual Network

* 일반적인 Network에는 Subnet이 라우터를 통해서만 통신이 가능하다.

  하지만, 같은 VM안에서 Subnet들은 라우터가 없어도 통신이 가능하다. `(Automatic Routing)`

* DNS가 자동으로 구성되지만 다른 DNS를 이용할 수 있다.

* TCP, UDP, ICMP 모두 지원

* 반드시 하나의 vNet내에 하나 이상의 Subnet이 필요하다.

* 하나 또는 하나 이상의 IP를 사용한다 (사설 IP / 공인 IP)

  * **10**.0.0.0        ~ 10.255.255.255
    **172.16**.0.0    ~ **172.31**.255.255
    **192.168**.0.0  ~ 192.168.255.255 (사설 IP)



### vNet이 필수인 작업

• Azure VMs
• Virtual machine scale sets
• Azure Application Gateway (internal)
• Azure App Service Environment
• Azure Kubernetes Service
• Service Fabric

















